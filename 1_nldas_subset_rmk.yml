# Do not edit - automatically generated
# from the task_makefile.mustache template
# by create_task_makefile() via create_cube_task_makefile()

target_default: 1_nldas_subset_rmk

include:
  - 0_config_rmk.yml

packages:
  - dplyr
  - ncdf4

sources:
  - 1_nldas_cubes/code/nccopy_utils.R

file_extensions:
  - "ind"

targets:
  # --- NLDAS_0.9_135.135_231.239_dlwrfsfc.nc --- #
  
  1_nldas_cubes/out/NLDAS_0.9_135.135_231.239_dlwrfsfc.nc:
    command: nccopy_nldas(target_name)

  1_nldas_cubes/log/NLDAS_0.9_135.135_231.239_dlwrfsfc.nc.ind:
    command: sc_indicate(target_name)
    depends:
      - 1_nldas_cubes/out/NLDAS_0.9_135.135_231.239_dlwrfsfc.nc

  # --- NLDAS_10.19_135.135_231.239_dlwrfsfc.nc --- #
  
  1_nldas_cubes/out/NLDAS_10.19_135.135_231.239_dlwrfsfc.nc:
    command: nccopy_nldas(target_name)

  1_nldas_cubes/log/NLDAS_10.19_135.135_231.239_dlwrfsfc.nc.ind:
    command: sc_indicate(target_name)
    depends:
      - 1_nldas_cubes/out/NLDAS_10.19_135.135_231.239_dlwrfsfc.nc

  # --- NLDAS_0.9_135.141_223.239_pressfc.nc --- #
  
  1_nldas_cubes/out/NLDAS_0.9_135.141_223.239_pressfc.nc:
    command: nccopy_nldas(target_name)

  1_nldas_cubes/log/NLDAS_0.9_135.141_223.239_pressfc.nc.ind:
    command: sc_indicate(target_name)
    depends:
      - 1_nldas_cubes/out/NLDAS_0.9_135.141_223.239_pressfc.nc

  # --- NLDAS_10.19_135.141_223.239_pressfc.nc --- #
  
  1_nldas_cubes/out/NLDAS_10.19_135.141_223.239_pressfc.nc:
    command: nccopy_nldas(target_name)

  1_nldas_cubes/log/NLDAS_10.19_135.141_223.239_pressfc.nc.ind:
    command: sc_indicate(target_name)
    depends:
      - 1_nldas_cubes/out/NLDAS_10.19_135.141_223.239_pressfc.nc

  # --- Overall job --- #

  1_nldas_subset_rmk:
    command: sc_indicate(I('1_nldas_cubes/log/1_nldas_subset_rmk.ind'), hash_depends=I(TRUE), depends_target=I('1_nldas_subset_rmk'), depends_makefile=I('1_nldas_subset_rmk.yml'))
    depends: 
      - 1_nldas_cubes/log/NLDAS_0.9_135.135_231.239_dlwrfsfc.nc.ind
      - 1_nldas_cubes/log/NLDAS_10.19_135.135_231.239_dlwrfsfc.nc.ind
      - 1_nldas_cubes/log/NLDAS_0.9_135.141_223.239_pressfc.nc.ind
      - 1_nldas_cubes/log/NLDAS_10.19_135.141_223.239_pressfc.nc.ind
